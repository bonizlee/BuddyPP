<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Arduino Reference - Bitshift </title>
  <link rel="shortcut icon" type="image/x-icon" href="http://arduino.cc/en/favicon.png">
  <link rel='stylesheet' href='arduinoWideRender.css' 
type='text/css' />
    <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  .editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border: 2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  td.markup1 { border-bottom: 1px solid #ccf; }
  div.faq { margin-left:2em; }
  div.faq p.question { margin: 1em 0 0.75em -2em; font-weight:bold; }
  div.faq hr { margin-left: -2em; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>  <meta name='robots' content='index,follow' />

  <meta name="verify-v1" content="TtxFIEJAB6zdJ509wLxjnapQzKAMNm9u0Wj4ho6wxIY=" />
</head>
<body>
<div id="page">
  

  

  <div id="pagetext">
  <!--PageText-->
<div id='wikitext'>
<p><strong>参考文档   </strong> &nbsp;  <a class='wikilink' href='index.html'>语法</a> | <a class='wikilink' href='Libraries.html'>库</a> | <a class='wikilink' href='Comparison.html'>对比</a> | <a class='wikilink' href='Changes.html'>变化</a>
</p>
<p class='vspace'></p><h2>bitshift left (&lt;&lt;), bitshift right (&gt;&gt;)</h2>
<h4>Description</h4>
<p>From <em>The Bitmath Tutorial</em>  in The Playground
</p>
<p class='vspace'></p><p>There are two bit shift operators in C++: the left shift operator &lt;&lt; and the right shift operator &gt;&gt;. These operators cause the bits in the left operand to be shifted left or right by the number of positions specified by the right operand.<br /><br />More on bitwise math may be found <a class='urllink' href='http://www.arduino.cc/playground/Code/BitMath' rel='nofollow'>here.</a>
</p>
<p class='vspace'></p><h4>Syntax</h4>
<p>variable &lt;&lt; number_of_bits
</p>
<p class='vspace'></p><p>variable &gt;&gt; number_of_bits 
</p>
<p class='vspace'></p><h4>Parameters</h4>
<p>variable - (byte, int, long)
number_of_bits integer &lt;= 32
</p>
<p class='vspace'></p><h4>Example:</h4>
<pre>    int a = 5;        // binary: 0000000000000101
    int b = a &lt;&lt; 3;   // binary: 0000000000101000, or 40 in decimal
    int c = b &gt;&gt; 3;   // binary: 0000000000000101, or back to 5 like we started with
</pre>
<p class='vspace'></p><p>When you shift a value x by y bits (x &lt;&lt; y), the leftmost y bits in x are lost, literally shifted out of existence:
</p>
<p class='vspace'></p><pre>    int a = 5;        // binary: 0000000000000101
    int b = a &lt;&lt; 14;  // binary: 0100000000000000 - the first 1 in 101 was discarded
</pre>
<p class='vspace'></p><p>If you are certain that none of the ones in a value are being shifted into oblivion, a simple way to think of the left-shift operator is that it multiplies the left operand by 2 raised to the right operand power. For example, to generate powers of 2, the following expressions can be employed:
</p>
<p class='vspace'></p><pre>    1 &lt;&lt;  0  ==    1
    1 &lt;&lt;  1  ==    2
    1 &lt;&lt;  2  ==    4
    1 &lt;&lt;  3  ==    8
    ...
    1 &lt;&lt;  8  ==  256
    1 &lt;&lt;  9  ==  512
    1 &lt;&lt; 10  == 1024
    ...
</pre>
<p class='vspace'></p><p>When you shift x right by y bits (x &gt;&gt; y), and the highest bit in x is a 1, the behavior depends on the exact data type of x. If x is of type int, the highest bit is the sign bit, determining whether x is negative or not, as we have discussed above. In that case, the sign bit is copied into lower bits, for esoteric historical reasons:
</p>
<p class='vspace'></p><pre>    int x = -16;     // binary: 1111111111110000
    int y = x &gt;&gt; 3;  // binary: 1111111111111110
</pre>
<p class='vspace'></p><p>This behavior, called sign extension, is often not the behavior you want. Instead, you may wish zeros to be shifted in from the left. It turns out that the right shift rules are different for unsigned int expressions, so you can use a typecast to suppress ones being copied from the left:
</p>
<p class='vspace'></p><pre>    int x = -16;                   // binary: 1111111111110000
    int y = (unsigned int)x &gt;&gt; 3;  // binary: 0001111111111110
</pre>
<p class='vspace'></p><p>If you are careful to avoid sign extension, you can use the right-shift operator &gt;&gt; as a way to divide by powers of 2. For example:
</p>
<p class='vspace'></p><pre>    int x = 1000;
    int y = x &gt;&gt; 3;   // integer division of 1000 by 8, causing y = 125.
</pre>
<p class='vspace'></p><p><a class='wikilink' href='index.html'>返回首页</a>
</p>


</div>
</body>
</html>
